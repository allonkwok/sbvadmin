import{B as D}from"./TableImg.59f6f98a.js";import{k as I}from"./componentMap.c6ede36b.js";import{u as v}from"./useTable.cf27739d.js";import{i as E,j as M}from"./System.78ab1c71.js";import{P}from"./index.bc397c35.js";import R from"./DeptTree.e25ccc7e.js";import{A as U}from"./index.dfed76d3.js";import{b as V}from"./index.1ee97bf4.js";import{A as W,c as $,s as z}from"./UserModal.95fba21b.js";import{au as N,a as j,aZ as x,w as H,aw as t,o as r,j as p,z as n,n as c,B as k,h as S,F,az as B,t as w,l as L}from"./index.9ac021fd.js";import{A as O}from"./index.f24e1c7f.js";import{T as Z}from"./index.016e445d.js";import"./index.660936ad.js";import"./Checkbox.bcc88f0e.js";import"./index.46f61f4a.js";import"./index.3b0aefd8.js";import"./eagerComputed.b1799fea.js";import"./BasicForm.cb578098.js";/* empty css              *//* empty css              */import"./FormItem.vue_vue_type_script_lang.9bd36d50.js";import"./index.f5568857.js";import"./index.ec2c00ec.js";import"./_baseIteratee.b918a8ef.js";import"./get.daafd265.js";import"./DeleteOutlined.45548ad9.js";import"./index.216a9172.js";import"./useRefs.0f106121.js";import"./Form.73c959f9.js";import"./Col.ae55c8bd.js";import"./useFlexGapSupport.104ca5b6.js";import"./useSize.fb041c6b.js";import"./index.e798bf5a.js";import"./uniqBy.f54b8a6b.js";import"./index.93eb7d22.js";import"./useForm.b6a6d306.js";import"./RadioButtonGroup.43c3299f.js";import"./useFormItem.be907bfa.js";import"./index.15d7ff12.js";import"./index.a5964cee.js";import"./index.5dd81b69.js";import"./uuid.2b29000c.js";import"./useWindowSizeFn.3fe478a9.js";import"./sortable.esm.2632adaa.js";import"./RedoOutlined.cbd6280a.js";import"./FullscreenOutlined.a60bdfc3.js";import"./index.768e2e1b.js";import"./isNumber.c4672596.js";import"./fromPairs.84aabb58.js";import"./scrollTo.289cc154.js";import"./index.04c38be8.js";import"./index.c8bb543a.js";import"./transButton.2561907b.js";import"./index.f1438b14.js";import"./index.f0cbd1b5.js";import"./download.6af2affd.js";import"./base64Conver.08b9f4ec.js";import"./index.894900e6.js";import"./index.19e8512c.js";import"./index.86d6e4ec.js";import"./useContentViewHeight.ee41e191.js";import"./ArrowLeftOutlined.d47cee63.js";import"./index.29fe1688.js";import"./index.4fdb1385.js";import"./useContextMenu.1cf78234.js";import"./Dept.e462f234.js";const G=j({name:"AccountManagement",components:{BasicTable:D,PageWrapper:P,AccountModal:W,TableAction:I,Avatar:O,Tag:Z,Authority:U,DeptTree:R},setup(){const o=x(),[C,{openModal:d}]=V(),f=H({}),[A,{reload:m,updateTableDataRecord:h}]=v({title:"\u8D26\u53F7\u5217\u8868",api:E,rowKey:"id",columns:$,formConfig:{labelWidth:120,schemas:z,autoSubmitOnEnter:!0},useSearchForm:!0,showTableSetting:!0,bordered:!0,handleSearchInfoFn(e){return e},actionColumn:{width:120,title:"\u64CD\u4F5C",dataIndex:"action"}});function g(){d(!0,{isUpdate:!1})}function _(e){d(!0,{record:e,isUpdate:!0})}function b(e){M(e.id).then(a=>{}).catch(a=>{}).finally(()=>{m()})}function u({isUpdate:e,values:a}){if(e){const s=h(a.id,a)}else m()}function y(e=""){f.deptId=e,m()}function T(e){o("/system/account_detail/"+e.id)}return{registerTable:A,registerModal:C,handleCreate:g,handleEdit:_,handleDelete:b,handleSuccess:u,handleSelect:y,handleView:T,searchInfo:f}}});function K(o,C,d,f,A,m){const h=t("DeptTree"),g=t("a-button"),_=t("Authority"),b=t("Avatar"),u=t("Tag"),y=t("TableAction"),T=t("BasicTable"),e=t("AccountModal"),a=t("PageWrapper");return r(),p(a,{dense:"",contentFullHeight:"",fixedHeight:"",contentClass:"flex"},{default:n(()=>[c(h,{class:"w-1/4 xl:w-1/5",onSelect:o.handleSelect},null,8,["onSelect"]),c(T,{onRegister:o.registerTable,class:"w-3/4 xl:w-4/5",searchInfo:o.searchInfo},{toolbar:n(()=>[c(_,{value:"/api/users|POST"},{default:n(()=>[c(g,{type:"primary",onClick:o.handleCreate},{default:n(()=>[k("\u65B0\u589E\u8D26\u53F7")]),_:1},8,["onClick"])]),_:1})]),bodyCell:n(({column:s,record:i})=>[s.key==="avatar"?(r(),p(b,{key:0,size:60,src:i.avatar},null,8,["src"])):s.key==="roles"?(r(!0),S(F,{key:1},B(i.roles,l=>(r(),p(u,{key:l.name,color:"green"},{default:n(()=>[k(w(l.nameZh),1)]),_:2},1024))),128)):s.key==="depts"?(r(!0),S(F,{key:2},B(i.depts,l=>(r(),p(u,{key:l.id,color:"green"},{default:n(()=>[k(w(l.name),1)]),_:2},1024))),128)):s.key==="action"?(r(),p(y,{key:3,actions:[{icon:"clarity:info-standard-line",tooltip:"\u67E5\u770B\u7528\u6237\u8BE6\u60C5",onClick:o.handleView.bind(null,i)},{icon:"clarity:note-edit-line",tooltip:"\u7F16\u8F91\u7528\u6237\u8D44\u6599",onClick:o.handleEdit.bind(null,i)},{icon:"ant-design:delete-outlined",color:"error",tooltip:"\u5220\u9664\u6B64\u8D26\u53F7",popConfirm:{title:"\u662F\u5426\u786E\u8BA4\u5220\u9664",placement:"left",confirm:o.handleDelete.bind(null,i)}}]},null,8,["actions"])):L("",!0)]),_:1},8,["onRegister","searchInfo"]),c(e,{onRegister:o.registerModal,onSuccess:o.handleSuccess},null,8,["onRegister","onSuccess"])]),_:1})}var so=N(G,[["render",K]]);export{so as default};
